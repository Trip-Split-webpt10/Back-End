# Back-End

Canvas: https://docs.google.com/document/d/1XU1Rprf2HOTgPbvoNaiRjo_h7qlUggh9LgDbJeL75XI/edit#

# trip-split-BE

This is the repository for **Trip-Split Back End** project.

# API URL
https://trip-split-api.herokuapp.com/api

# Endpoints

| Method | URL | Description |
| -- | -- | -- |
| POST | /users/register | Adds user creds to DB. Returns id, username and name of user |
| POST | /users/login | Allows user access. Returns message "You have successfully logged in" |
| -- | -- | -- |
| POST | /trips | Adds trip to DB. Returns trip destination, complete, start date and end date |
| GET | /trips | Returns an array of all trips on DB. |
| GET | /trips/:id | **:id = trip id.** Returns all trip information(see below) |

### Single Trip object
```js
{
    "id": 1,
    "destination": "Hawaii",
    "complete": 0,
    "start_date": "2019-12-10",
    "end_date": "2019-12-17",
    "expenses": [
    {
      "id": 1,
      "destination": "Hawaii",
      "name": "Plane tickets",
      "price": 650
    },
    {
      "id": 2,
      "destination": "Hawaii",
      "name": "Resort Stay",
      "price": 250
    }
  ],
  "users": [
    {
      "id": 1,
      "name": "Chris Test"
    },
    {
      "id": 2,
      "name": "User Test"
    }
  ]
}
```

# Schema

### User

| field | data type        | metadata |
| ----- | ---------------- | -- |
| id    | unsigned integer | primary key, auto-increments, generated by database |
| username | string        | required, unique |
| password | string | required, encrypted by the server |
| name | string | required |

### Trips

| field | data type        | metadata |
| ----- | ---------------- | -- |
| id    | unsigned integer | primary key, auto-increments, generated by database |
| destination | string | required |
| complete | boolean | defaults to false |
| start_date | date | not required |
| end_date | date | not required |

### Expenses 

| field | data type        | metadata |
| ----- | ---------------- | -- |
| id    | unsigned integer | primary key, auto-increments, generated by database |
| name | string | required |
| price | decimal | not required |
| trip_id | unsigned integer | foriegn key to 'trips' table |
